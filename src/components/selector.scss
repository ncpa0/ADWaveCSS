$noPositionClassName: ".no-position";
$elementHeight: 1.8em;

.selector {
  background-color: color("btn");
  border-radius: size("bradius");
  border: 1px solid color("btn");
  font-family: "Ubuntu", sans-serif;
  height: $elementHeight;
  display: flex;
  flex-direction: row;
  cursor: pointer;

  &:not(#{$noPositionClassName}) {
    position: relative;
  }

  &:focus-visible {
    outline: none;
    border: 1px solid color("primary-300");
  }

  &.disabled {
    cursor: not-allowed;
    .selected-option {
      color: nativeOpacity(color("text"), 60%);
    }
  }

  .selected-option {
    color: color("text");
    border-bottom-left-radius: size("bradius");
    border-top-left-radius: size("bradius");
    padding: 0.3em 0.9em;
    font-family: "Ubuntu", sans-serif;
    user-select: none;
    flex: 1;
  }

  .down-button {
    border-bottom-right-radius: size("bradius");
    border-top-right-radius: size("bradius");
    width: $elementHeight;
    height: 100%;
    position: relative;

    &::before {
      width: 0.65em;
      height: 0.65em;
      position: absolute;
      top: 0.55em;
      left: 0.5em;
      content: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgdmlld0JveD0iMCAwIDguNDY2NjY2NSA4LjQ2NjY2NjUiCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzEiCiAgIGlua3NjYXBlOnZlcnNpb249IjEuMyAoMGUxNTBlZDZjNCwgMjAyMy0wNy0yMSkiCiAgIHNvZGlwb2RpOmRvY25hbWU9ImRvd24tYXJyb3cuc3ZnIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0ibmFtZWR2aWV3MSIKICAgICBwYWdlY29sb3I9IiM1MDUwNTAiCiAgICAgYm9yZGVyY29sb3I9IiNlZWVlZWUiCiAgICAgYm9yZGVyb3BhY2l0eT0iMSIKICAgICBpbmtzY2FwZTpzaG93cGFnZXNoYWRvdz0iMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMCIKICAgICBpbmtzY2FwZTpwYWdlY2hlY2tlcmJvYXJkPSIwIgogICAgIGlua3NjYXBlOmRlc2tjb2xvcj0iIzUwNTA1MCIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0ibW0iCiAgICAgaW5rc2NhcGU6em9vbT0iMzcuOTk2MDA5IgogICAgIGlua3NjYXBlOmN4PSIxMC45ODc5OTYiCiAgICAgaW5rc2NhcGU6Y3k9IjE4LjAxNTA1IgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTg2MSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDExIgogICAgIGlua3NjYXBlOndpbmRvdy14PSIxOTc5IgogICAgIGlua3NjYXBlOndpbmRvdy15PSIzMiIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImxheWVyMSIgLz4KICA8ZGVmcwogICAgIGlkPSJkZWZzMSI+CiAgICA8aW5rc2NhcGU6cGF0aC1lZmZlY3QKICAgICAgIGVmZmVjdD0iZmlsbGV0X2NoYW1mZXIiCiAgICAgICBpZD0icGF0aC1lZmZlY3QyIgogICAgICAgaXNfdmlzaWJsZT0idHJ1ZSIKICAgICAgIGxwZXZlcnNpb249IjEiCiAgICAgICBub2Rlc2F0ZWxsaXRlc19wYXJhbT0iRiwwLDAsMSwwLDAuMTI0NTM2ODksMCwxIEAgRiwwLDAsMSwwLDAuMTk1MTE0MjIsMCwxIEAgRiwwLDAsMSwwLDAuMTQ3MDc4ODMsMCwxIgogICAgICAgcmFkaXVzPSIwIgogICAgICAgdW5pdD0icHgiCiAgICAgICBtZXRob2Q9ImF1dG8iCiAgICAgICBtb2RlPSJGIgogICAgICAgY2hhbWZlcl9zdGVwcz0iMSIKICAgICAgIGZsZXhpYmxlPSJmYWxzZSIKICAgICAgIHVzZV9rbm90X2Rpc3RhbmNlPSJ0cnVlIgogICAgICAgYXBwbHlfbm9fcmFkaXVzPSJ0cnVlIgogICAgICAgYXBwbHlfd2l0aF9yYWRpdXM9InRydWUiCiAgICAgICBvbmx5X3NlbGVjdGVkPSJmYWxzZSIKICAgICAgIGhpZGVfa25vdHM9ImZhbHNlIiAvPgogICAgPGlua3NjYXBlOnBhdGgtZWZmZWN0CiAgICAgICBlZmZlY3Q9ImZpbGxldF9jaGFtZmVyIgogICAgICAgaWQ9InBhdGgtZWZmZWN0Mi03IgogICAgICAgaXNfdmlzaWJsZT0idHJ1ZSIKICAgICAgIGxwZXZlcnNpb249IjEiCiAgICAgICBub2Rlc2F0ZWxsaXRlc19wYXJhbT0iRiwwLDAsMSwwLDAuMTI0NTM2ODksMCwxIEAgRiwwLDAsMSwwLDAuMTk1MTE0MjIsMCwxIEAgRiwwLDAsMSwwLDAuMTQ3MDc4ODMsMCwxIgogICAgICAgcmFkaXVzPSIwIgogICAgICAgdW5pdD0icHgiCiAgICAgICBtZXRob2Q9ImF1dG8iCiAgICAgICBtb2RlPSJGIgogICAgICAgY2hhbWZlcl9zdGVwcz0iMSIKICAgICAgIGZsZXhpYmxlPSJmYWxzZSIKICAgICAgIHVzZV9rbm90X2Rpc3RhbmNlPSJ0cnVlIgogICAgICAgYXBwbHlfbm9fcmFkaXVzPSJ0cnVlIgogICAgICAgYXBwbHlfd2l0aF9yYWRpdXM9InRydWUiCiAgICAgICBvbmx5X3NlbGVjdGVkPSJmYWxzZSIKICAgICAgIGhpZGVfa25vdHM9ImZhbHNlIiAvPgogIDwvZGVmcz4KICA8ZwogICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiCiAgICAgaWQ9ImxheWVyMSI+CiAgICA8cGF0aAogICAgICAgaWQ9InJlY3QxIgogICAgICAgc3R5bGU9ImZpbGw6Izk5OTk5OTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MCIKICAgICAgIGQ9Ik0gMC40Mjk4MjI4OCwyLjc5MzA0NzUgNC4wODc0MDI2LDYuNTM4MTY3IEMgNC4xNjI2OTQ3LDYuNjE1MjYxMSA0LjI5NDQ1NDMsNi41OTU3NjMgNC4zNjk5NzMsNi41MTg4OTEgTCA4LjAwMTYxNTQsMi44MjIxOTg1IEMgOC4wMzk5OTQ0LDIuNzgzODI0NSA4LjAyNjkzNjQsMi43MDAxMDY3IDcuOTcyNjY0NCwyLjcwMDEwNjYgTCAwLjQ3NDE2NjE2LDIuNjk5NTg2OCBjIC0wLjA0NTk1NzIsMCAtMC4wNzY4Mzk5LDAuMDYwOTY4IC0wLjA0NDM0MzMsMC4wOTM0NjEgeiIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY3NzY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBpZD0icmVjdDEtMyIKICAgICAgIHN0eWxlPSJmaWxsOiNmOWY5Zjk7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAiCiAgICAgICBkPSJtIDAuNDg0MjUxNywyLjc4OTQ5NTUgMy42MDQyMjk3LDMuNjA0MjI5NyBhIDAuMTk1MTI3MzgsMC4xOTUxMjczOCAwIDAgMCAwLjI3NTk0MjUsOS4zZS02IEwgNy45NTMyMTQ1LDIuODA1NDI4MSBBIDAuMDYwOTE2MjMsMC4wNjA5MTYyMyAwIDAgMCA3LjkxMDE0MzIsMi43MDE0MzQ3IGwgLTcuMzg5NDE1NDksLTFlLTcgYSAwLjA1MTU4NDg3LDAuMDUxNTg0ODcgMCAwIDAgLTAuMDM2NDc2LDAuMDg4MDYxIHoiIC8+CiAgPC9nPgo8L3N2Zz4=");
    }
  }

  &:hover:not(.disabled),
  &.opened {
    background-color: color("btn-hover");
  }

  &:not(.opened, .disabled):active {
    background-color: color("btn-pressed");
  }

  .options-list {
    @include scrollbar;
    border-radius: size("bradius");
    background-color: color("bg3");
    padding: 0.4em;
    display: flex;
    flex-direction: column;

    $listMargin: 0.3em;

    &.top {
      margin-bottom: $listMargin;
    }

    &:not(.top) {
      margin-top: $listMargin;
    }

    &:not(#{$noPositionClassName}) {
      &.top {
        position: absolute;
        left: 0px;
        right: 0px;
        bottom: $elementHeight;
      }

      &:not(.top) {
        position: absolute;
        left: 0px;
        right: 0px;
        top: $elementHeight;
      }
    }

    .option {
      background-color: transparent;
      border-radius: size("bradius");
      border: unset;
      outline: unset;
      padding: 0.3em 0.5em;
      cursor: pointer;
      display: flex;
      justify-content: flex-start;

      &:hover {
        background-color: color("bg4");
      }

      &:active {
        background-color: color("btn-pressed");
      }

      &:focus-visible {
        background-color: color("bg4");
      }
    }
  }
}
